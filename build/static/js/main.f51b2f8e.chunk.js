(this.webpackJsonpludo=this.webpackJsonpludo||[]).push([[0],{20:function(e,t,c){e.exports={chessboard:"chessboard_chessboard__W1YxU",chesssection:"chessboard_chesssection__2sBuL",chessbox:"chessboard_chessbox__31B_7",chesspiece:"chessboard_chesspiece__3wZUF",marker:"chessboard_marker__AbJNB",enemy:"chessboard_enemy__78fVS",attack:"chessboard_attack__31VUB",chessletter:"chessboard_chessletter__1Tsu8"}},22:function(e,t,c){e.exports={container:"Playercard_container__11jvK",card:"Playercard_card__2wnYj","card-content":"Playercard_card-content__vi0x1",image:"Playercard_image__29_2f","turn-container":"Playercard_turn-container__1Zpyn"}},31:function(e,t,c){e.exports={container:"win_container__1fIQU"}},32:function(e,t,c){e.exports={container:"login_container__3JDxc",box:"login_box__2yMBQ",main:"login_main__3tm4F"}},33:function(e,t,c){e.exports={container:"play_container__1RQ8c",head1:"play_head1__29PGF",head2:"play_head2__28kBs"}},55:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),o=c(38),s=c.n(o),r=c(8),i=c(45),l=c(20),u=c.n(l),b=c.p+"static/media/Pawn.0ff321fc.svg",h=c.p+"static/media/Knight.541c07af.svg",d=c.p+"static/media/Bishop.425885e7.svg",j=c.p+"static/media/Castle.8f4ed30a.svg",f=c.p+"static/media/Queen.678a31ae.svg",m=c.p+"static/media/King.469ff081.svg",x=c.p+"static/media/Pawn.d58958ca.svg",g=c.p+"static/media/Knight.87e76924.svg",v=c.p+"static/media/Bishop.e92fdf74.svg",p=c.p+"static/media/Castle.b328e6ef.svg",O=c.p+"static/media/Queen.8d98072c.svg",y=c.p+"static/media/King.bc9a80a4.svg",k=c.p+"static/media/marker.0462e02a.svg",_=c.p+"static/media/markerchesscut.f953ba13.svg";var w=function(e,t,c,a,n){return"white"===e.color?(0==t[a+1][n]&&(c[a+1][n]=1),0!=t[a+1][n+1]&t[a+1][n+1]>6?c[a+1][n+1]=Math.max(c[a+1][n+1],12==t[a+1][n+1]?3:2):0!=t[a+1][n-1]&t[a+1][n-1]>6&&(c[a+1][n-1]=Math.max(c[a+1][n-1],12==t[a+1][n-1]?3:2))):(0==t[a-1][n]&&(c[a-1][n]=1),0!=t[a-1][n+1]&t[a-1][n+1]<=6&&(c[a-1][n+1]=Math.max(c[a-1][n+1],6==t[a-1][n+1]?3:2)),0!=t[a-1][n-1]&t[a-1][n-1]<=6&&(c[a-1][n-1]=Math.max(c[a-1][n-1],6==t[a-1][n-1]?3:2))),c};var C=function(e,t,c,a){return[{x:t-1,y:c-2},{x:t+1,y:c-2},{x:t-1,y:c+2},{x:t+1,y:c+2},{x:t-2,y:c-1},{x:t+2,y:c-1},{x:t-2,y:c+1},{x:t+2,y:c+1}].forEach((function(t){(function(e){return!(e.x<0||e.x>7||e.y<0||e.y>7)})(t)&&0==e[t.x][t.y]&&(a[t.x][t.y]=1)})),a},N=[],E=0,S=0;function M(e,t,c){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=E&&e[t][c]<S?(e[t][c]===S-1&&(N[t][c]=3),void(N[t][c]=Math.max(N[t][c],2))):void 0;N[t][c]=1,M(e,t+1,c-1)}}function P(e,t,c){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=E&&e[t][c]<S?(e[t][c]===S-1&&(N[t][c]=3),void(N[t][c]=Math.max(N[t][c],2))):void 0;N[t][c]=1,P(e,t+1,c+1)}}function B(e,t,c){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=E&&e[t][c]<S?(e[t][c]===S-1&&(N[t][c]=3),void(N[t][c]=Math.max(N[t][c],2))):void 0;N[t][c]=1,B(e,t-1,c+1)}}function W(e,t,c){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=E&&e[t][c]<S?(e[t][c]===S-1&&(N[t][c]=3),void(N[t][c]=Math.max(N[t][c],2))):void 0;N[t][c]=1,W(e,t-1,c-1)}}var A=function(e,t,c,a,n){return t,c,N=a,n?(E=1,S=7):(E=7,S=13),M(e,t+1,c-1),P(e,t+1,c+1),B(e,t-1,c+1),W(e,t-1,c-1),N},D=[],K=0,T=0;function H(e,t,c,a){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=K&&e[t][c]<T?void(D[t][c]=e[t][c]==T-1?3:2):void 0;D[t][c]=1,H(e,t,c+a,a)}}function Y(e,t,c,a){if(!(t<0||c<0||t>7||c>7)){if(0!==e[t][c])return e[t][c]>=K&&e[t][c]<T?void(D[t][c]=Math.max(D[t][c],e[t][c]==T-1?3:2)):void 0;D[t][c]=1,Y(e,t+a,c,a)}}var Q=function(e,t,c,a,n){return D=a,n?(K=1,T=7):(K=7,T=13),H(e,t,c-1,-1),H(e,t,c+1,1),Y(e,t-1,c,-1),Y(e,t+1,c,1),D},J=[],U=0,V=0;function q(e,t,c){if(!(t<0||c<0||t>7||c>7))return 0!==e[t][c]?e[t][c]>=U&&e[t][c]<V?(e[t][c]===V-1&&(J[t][c]=3),void(J[t][c]=Math.max(J[t][c],2))):void 0:void(J[t][c]=1)}var F=function(e,t,c,a,n){return t,c,J=a,n?(U=1,V=7):(U=7,V=13),q(e,t-1,c-1),q(e,t-1,c),q(e,t-1,c+1),q(e,t,c-1),q(e,t,c+1),q(e,t+1,c-1),q(e,t+1,c),q(e,t+1,c+1),J};var I=function(e){var t=!1;return e.forEach((function(e){e.forEach((function(e){3===e&&(console.log("CHECK!"),t=!0)}))})),console.log(t),t};var G=function(e,t,c){return t=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],e=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],console.log("areas_black"),console.log(e),console.log("areas_white"),console.log(t),c.forEach((function(a,n){a.forEach((function(o,s){if(0!=a)switch(o){case 1:t=w({color:"white"},c,t,n,s);break;case 2:t=C(c,n,s,t,!1);break;case 3:t=A(c,n,s,t,!1);break;case 4:t=Q(c,n,s,t,!1);break;case 5:t=A(c,n,s,t,!1),t=Q(c,n,s,t,!1);break;case 6:t=F(c,n,s,t,!1);break;case 7:e=w({color:"black"},c,e,n,s);break;case 8:e=C(c,n,s,e,!0);break;case 9:e=A(c,n,s,e,!0);break;case 10:e=Q(c,n,s,e,!0);break;case 11:e=A(c,n,s,e,!0),e=Q(c,n,s,e,!0);break;case 12:e=F(c,n,s,e,!0)}}))})),{white:t,black:e}};var R=function(e,t){var c=G([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],e);console.log("Vulnerable Areas on Checkmate Check"),console.log(c);var a=!1;return a=I(t?c.white:c.black),console.log(a),a},Z=c(1),L=[null,{type:"pawn",color:"white",img:b},{type:"knght",color:"white",img:h},{type:"bishop",color:"white",img:d},{type:"rook",color:"white",img:j},{type:"queen",color:"white",img:f},{type:"king",color:"white",img:m},{type:"pawn",color:"black",img:x},{type:"knght",color:"black",img:g},{type:"bishop",color:"black",img:v},{type:"rook",color:"black",img:p},{type:"queen",color:"black",img:O},{type:"king",color:"black",img:y}];var z=function(e){var t=e.socket,c=e.Play,n=e.Player,o=e.setPlayer,s=e.roomName,l=e.Black,b=e.setBlack,h=e.White,d=e.setWhite,j=e.CheckMate,f=e.setCheckMate,m=["a","b","c","d","e","f","g","h"],x=function(e,t){return e===t.room.black.id}(t.id,c),g=Object(a.useState)([[4,2,3,5,6,3,2,4],[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[7,7,7,7,7,7,7,7],[10,8,9,11,12,9,8,10]]),v=Object(r.a)(g,2),p=v[0],O=v[1],y=Object(a.useState)([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]),N=Object(r.a)(y,2),E=N[0],S=N[1],M=Object(a.useState)({white:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],black:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]}),P=Object(r.a)(M,2),B=P[0],W=P[1],D=Object(a.useState)({x:0,y:0,status:!1,type:null}),K=Object(r.a)(D,2),T=K[0],H=K[1];function Y(e){var t=G(B.black,B.white,e);W(t),console.log("Vulnerable Areas"),console.log(t),console.log("CHESS : "),I(t.white)||I(t.black)?(f(!0),console.log("CheckMate")):(f(!1),console.log("Not CheckMate")),console.log(j)}function J(e,t,c){return Object(Z.jsx)("div",{className:u.a.chesspiece,onClick:function(){return function(e,t){console.log("updateSelected"),T.status,H({x:e,y:t,status:!0,type:L[p[e][t]]})}(t,c)},children:Object(Z.jsx)("img",{src:L[e].img,alt:""})})}function U(e,t){var c;return 1===E[e][t]?c=Object(Z.jsx)("div",{className:u.a.marker,children:Object(Z.jsx)("img",{src:k})}):2===E[e][t]&&(console.log("Enemies"),c=Object(Z.jsx)("div",{className:u.a.marker,style:{marginTop:"-4.3vw"},children:Object(Z.jsx)("img",{className:u.a.attack,src:_})})),c}Object(a.useEffect)((function(){var e=p[T.x][T.y];if(console.log("move "+e),!(e>6&&!1===n)&&!(e<=6&&!0===n)&&n==x)if(!0===T.status){var t=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],c=T.x,a=T.y,o=T.type,s=t;switch(console.log(o),o.type){case"pawn":s=w(o,p,t,c,a);break;case"knght":s=C(p,c,a,t);break;case"bishop":s=A(p,c,a,t,n);break;case"rook":s=Q(p,c,a,t,n);break;case"queen":t=A(p,c,a,t,n),s=Q(p,c,a,t,n);break;case"king":s=F(p,c,a,t,n)}console.log(s),S(s)}else S([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]])}),[T]),Object(a.useEffect)((function(){console.log(l),console.log(h)}),[l,h]),Object(a.useEffect)((function(){null!=t&&t.on("get-chess",(function(e){var t=e.chessdata,c=e.player;console.log("CHESS DATA"),console.log(t),console.log(c),O(t),z(t),o(c),Y(t)}))}),[t]),Object(a.useEffect)((function(){null!=t&&(t.on("get-chess-dead",(function(e){var t=e.Black,c=e.White;b(t),d(c)})),console.log("Black AND White"),console.log(l),console.log(h))}),[t]);var V=Object(a.useState)([]),q=Object(r.a)(V,2),z=(q[0],q[1]);function X(e,c){var a=p[T.x][T.y];if(console.log("move "+a),!(a>6&&!1===n)&&!(a<=6&&!0===n)&&n===x&&(console.log("Move "+E[e][c]),console.log(e+" "+c),null!=T&&0!=E[e][c])){S([[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]);var r=T.x,i=T.y;z(p);var u=[];p.forEach((function(e,t){u.push(e)}));var f=u[r][i];console.log("Chess index"+u[e][c]);var m=0!=u[e][c]?u[e][c]:null;u[r][i]=0,u[e][c]=f;var g=!1;if(console.log("Before"),console.log(p),!0===j&&R(u,n))return alert("Cannot Move"),console.log("Cannot Move"),u[e][c]=m||0,u[r][i]=f,O(u),void(g=!0);g||(O(u),o(!n),Y(u),null!=m&&function(e){var c=l,a=h;0==n?c.push(e):a.push(e),b(c),d(a),t.emit("sendchessdead",{room:s,Black:c,White:a})}(m)),t.emit("sendchesspieces",{chessdata:p,room:s,player:!n,color:n?"Black":"White"})}}return Object(Z.jsx)("div",{children:Object(Z.jsx)("div",{className:u.a.chessboard,children:Object(i.a)(Array(8)).map((function(e,t){return Object(Z.jsx)("div",{className:u.a.chesssection,children:m.map((function(e,c){return Object(Z.jsxs)("div",{className:u.a.chessbox,id:"".concat(t,"_").concat(e),onClick:function(){return X(t,c)},children:[0!=p[t][c]?J(p[t][c],t,c):null,U(t,c)]})}))})}))})})},X=c(44),$=(c(55),c(2)),ee=c(32),te=c.n(ee);var ce=function(e){var t=e.socket,c=Object($.f)(),n=Object(a.useState)(""),o=Object(r.a)(n,2),s=o[0],i=o[1],l=Object(a.useState)(""),u=Object(r.a)(l,2),b=u[0],h=u[1];return Object(Z.jsx)("div",{className:te.a.container,children:Object(Z.jsx)("div",{className:te.a.box,children:Object(Z.jsxs)("div",{className:te.a.main,children:[Object(Z.jsx)("h2",{children:"CHESS.EY"}),Object(Z.jsx)("input",{placeholder:"Enter Your Name",type:"text",value:s,onChange:function(e){i(e.target.value)}}),Object(Z.jsx)("input",{placeholder:"Enter Your Room",type:"text",value:b,onChange:function(e){h(e.target.value)}}),Object(Z.jsx)("button",{className:"primary-button",onClick:function(e){return function(e){e.preventDefault(),t.emit("join-room",{room:b,name:s}),c.push("/play/".concat(b))}(e)},children:"Enter"})]})})})},ae=c(33),ne=c.n(ae),oe=c(22),se=c.n(oe);var re=function(e){var t=e.name,c=e.player,a=e.style,n=e.isCurrentPlayer,o=e.myState,s={container:{alignItems:c?"left":"right",justifyContent:c?"flex-end":"flex-start"},card:{borderColor:n===c?"#DB6D6D":"#76DB6D",textAlign:c?"right":"left"}};function r(){return Object(Z.jsx)("div",{className:se.a["turn-container"],children:Object(Z.jsx)("h2",{children:"Your Turn!"})})}return Object(Z.jsx)("div",{style:a,children:Object(Z.jsxs)("div",{className:se.a.container,style:s.container,children:[n===c&&1==c&&1==o?Object(Z.jsx)(r,{}):null,Object(Z.jsxs)("div",{className:se.a.card,style:s.card,children:[c?null:Object(Z.jsx)("div",{className:se.a.image}),Object(Z.jsxs)("div",{className:se.a["card-content"],children:[Object(Z.jsx)("h2",{children:t}),Object(Z.jsxs)("p",{children:["You are ",c?"Black":"White"]})]}),c?Object(Z.jsx)("div",{className:se.a.image}):null]}),n===c&&0==c&&1==o?Object(Z.jsx)(r,{}):null]})})};var ie=function(e){var t=e.socket,c=e.Play,n=Object(a.useState)(!1),o=Object(r.a)(n,2),s=o[0],i=o[1],l=Object($.f)(),u=Object(a.useState)(Object($.g)().id),b=Object(r.a)(u,2),h=b[0],d=(b[1],Object(a.useState)([])),j=Object(r.a)(d,2),f=j[0],m=j[1],x=Object(a.useState)([]),g=Object(r.a)(x,2),v=g[0],p=g[1],O=Object(a.useState)({}),y=Object(r.a)(O,2),k=y[0],_=y[1];return Object(a.useEffect)((function(){t.on("end-game",(function(e){var t=e.winner;l.push("/play/".concat(h,"/Win/").concat(t))}))}),[]),Object(Z.jsxs)("div",{className:ne.a.container,children:[Object(Z.jsxs)("div",{className:ne.a.head1,children:[Object(Z.jsx)(re,{name:c.room.white.name,player:!1,isCurrentPlayer:s,myState:t.id===c.room.white.id,style:{opacity:!1===s?"1":"0.5"}}),Object(Z.jsx)(z,{socket:t,Play:c,Player:s,setPlayer:i,roomName:h,Black:f,setBlack:m,White:v,setWhite:p,CheckMate:k,setCheckMate:_}),Object(Z.jsx)(re,{name:c.room.black.name,player:!0,style:{marginTop:"560px",opacity:!0===s?"1":"0.5"},isCurrentPlayer:s,myState:t.id===c.room.black.id})]}),Object(Z.jsxs)("div",{className:ne.a.head2,children:[k?"CHECKMATE":"NOT CHECKMATE",Object(Z.jsx)("button",{className:"primary-button",onClick:function(){return function(){var e=function(e,t){return e===t.room.black.id}(t.id,c);t.emit("surrender",{room:h,winner:e?c.room.white.name:c.room.black.name})}()},children:"Surrender"})]})]})},le=c(31),ue=c.n(le);var be=function(){var e=Object($.g)(),t=(e.id,e.name);return Object(Z.jsx)("div",{className:ue.a.container,children:Object(Z.jsxs)("h1",{children:[t," Won the game!"]})})},he=c.p+"static/media/Gear-0.6s-137px (1).65d9c1ff.gif";var de=function(){return Object(Z.jsxs)("div",{className:ue.a.container,children:[Object(Z.jsx)("h1",{children:"Waiting for Another Player or He has left the game"}),Object(Z.jsx)("img",{src:he})]})},je=c(23),fe=Object(X.a)("http://localhost:8000");var me=function(){var e=Object(a.useState)({room:{},state:!1}),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){console.log(fe)}),[fe]),Object(a.useEffect)((function(){fe.on("play-chess",(function(e){console.log(e),n({room:e.room,state:e.state})})),console.log(c.state)}),[fe]),Object(a.useEffect)((function(){window.onbeforeunload=function(){return"Data will be lost if you leave the page, are you sure?"}}),[]),Object(Z.jsx)("div",{className:"App",children:Object(Z.jsx)(je.a,{children:Object(Z.jsxs)($.c,{children:[Object(Z.jsx)($.a,{exact:!0,path:"/",children:Object(Z.jsx)(ce,{socket:fe})}),Object(Z.jsx)($.a,{exact:!0,path:"/login",children:Object(Z.jsx)(ce,{socket:fe})}),Object(Z.jsx)($.a,{exact:!0,path:"/play",children:Object(Z.jsx)(ie,{socket:fe,Play:c})}),Object(Z.jsx)($.a,{exact:!0,path:"/play/:id",children:c.state?Object(Z.jsx)(ie,{socket:fe,Play:c}):Object(Z.jsx)(de,{socket:fe,Play:c})}),Object(Z.jsx)($.a,{exact:!0,path:"/play/:id/Win/:name",children:Object(Z.jsx)(be,{})})]})})})};s.a.render(Object(Z.jsx)(n.a.StrictMode,{children:Object(Z.jsx)(me,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.f51b2f8e.chunk.js.map